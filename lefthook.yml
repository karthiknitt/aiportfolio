pre-commit:
  piped: true
  commands:

    format_lint:
      priority: 10
      glob: "*.{js,ts,cjs,mjs,d.cts,d.mts,jsx,tsx,json,jsonc}"
      run: pnpm biome check --write --no-errors-on-unmatched --files-ignore-unknown=true --colors=off --css-parse-tailwind-directives=true {staged_files}
      stage_fixed: true
    type_check:
      priority: 20
      glob: "*.{ts,cts,mts,d.ts,d.cts,d.mts}"
      run: pnpm tsc --noEmit --pretty false {staged_files}

prepare-commit-msg:
  commands:
    generate_commit_message:
      run: pnpm exec node generate-commit-msg.js {1}

pre-push:
  piped: true
  commands:
    format_lint:
      priority: 10
      glob: "*.{js,ts,cjs,mjs,d.cts,d.mts,jsx,tsx,json,jsonc}"
      run: pnpm biome check --write --no-errors-on-unmatched --files-ignore-unknown=true --colors=off --css-parse-tailwind-directives=true {push_files}
      stage_fixed: true
    type_check:
       priority: 20
       glob: "*.{ts,cts,mts,d.ts,d.cts,d.mts}"
       run: pnpm tsc --noEmit --pretty false --skipLibCheck {push_files}
    build:
      priority: 30
      run: pnpm build